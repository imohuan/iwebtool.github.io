export const css = "@charset \"UTF-8\";.twinkle[data-v-0b0d8462]{animation:twinkle-0b0d8462 .5s infinite alternate}@keyframes twinkle-0b0d8462{0%{opacity:.8}to{opacity:1}}.range[data-v-0b0d8462]{-webkit-appearance:none;width:100%;height:3px;background:#ddd;border-radius:5px;outline:none}.range[data-v-0b0d8462]::-webkit-slider-thumb{-webkit-appearance:none;-moz-appearance:none;appearance:none;width:15px;height:15px;background:var(--primary);cursor:pointer;border-radius:50%}.wh-full{width:100%;height:100%}.center{display:flex;align-items:center;justify-content:center}.w-50{width:50px}.bottom-5{bottom:5px}.left-0{left:0}.top-0{top:0}.overflow-hidden{overflow:hidden}.border-2{border-width:2px}.border-dashed{border-style:dashed}.bg-white{background-color:#fff}.opacity-50{opacity:.5}.pointer-events-none{pointer-events:none}.absolute{position:absolute}.fixed{position:fixed}.relative{position:relative}.inset-0{top:0;right:0;bottom:0;left:0}.left-1\\/2{left:50%}.top-1\\/2{top:50%}.-z-20{z-index:-20}.z-50{z-index:50}.hidden{display:none}.h-\\[150px\\]{height:150px}.h-full{height:100%}.min-w30{min-width:7.5rem}.w-4\\/5{width:80%}.w-auto{width:auto}.w2{width:.5rem}.flex{display:flex}.flex-1{flex:1 1 0%}.-translate-x-1\\/2{--un-translate-x:-50%;transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.-translate-y-1\\/2{--un-translate-y:-50%;transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.transform{transform:translate(var(--un-translate-x)) translateY(var(--un-translate-y)) translateZ(var(--un-translate-z)) rotate(var(--un-rotate)) rotateX(var(--un-rotate-x)) rotateY(var(--un-rotate-y)) rotate(var(--un-rotate-z)) skew(var(--un-skew-x)) skewY(var(--un-skew-y)) scaleX(var(--un-scale-x)) scaleY(var(--un-scale-y)) scaleZ(var(--un-scale-z))}.items-center{align-items:center}.space-x-2>:not([hidden])~:not([hidden]){--un-space-x-reverse:0;margin-left:calc(.5rem * calc(1 - var(--un-space-x-reverse)));margin-right:calc(.5rem * var(--un-space-x-reverse))}.border{border-width:1px}.rounded{border-radius:.25rem}.rounded-full{border-radius:9999px}.rounded-md{border-radius:.375rem}.bg-yellow-500{--un-bg-opacity:1;background-color:rgb(234 179 8 / var(--un-bg-opacity))}.hover\\:bg-gray-100:hover{--un-bg-opacity:1;background-color:rgb(243 244 246 / var(--un-bg-opacity))}.p1{padding:.25rem}.px,.px4{padding-left:1rem;padding-right:1rem}.text-xl{font-size:1.25rem;line-height:1.75rem}.shadow{--un-shadow:var(--un-shadow-inset) 0 1px 3px 0 var(--un-shadow-color, rgb(0 0 0 / .1)),var(--un-shadow-inset) 0 1px 2px -1px var(--un-shadow-color, rgb(0 0 0 / .1));box-shadow:var(--un-ring-offset-shadow),var(--un-ring-shadow),var(--un-shadow)}.outline{outline-style:solid}.transition{transition-property:color,background-color,border-color,outline-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1);transition-duration:.15s}@media (min-width: 768px){.md\\:w-\\[600px\\]{width:600px}}\n\n";
var te = Object.defineProperty;
var ne = (a, c, r) => c in a ? te(a, c, { enumerable: !0, configurable: !0, writable: !0, value: r }) : a[c] = r;
var Z = (a, c, r) => (ne(a, typeof c != "symbol" ? c + "" : c, r), r);
const { createElementVNode: P, openBlock: oe, createElementBlock: se } = __Context.vue, le = {
  fill: "currentColor",
  t: "1708825661609",
  class: "icon",
  viewBox: "0 0 1024 1024",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg",
  "p-id": "6063",
  width: "200",
  height: "200"
}, ae = /* @__PURE__ */ P("path", {
  d: "M896 672c-17.066667 0-32 14.933333-32 32v128c0 6.4-4.266667 10.666667-10.666667 10.666667H170.666667c-6.4 0-10.666667-4.266667-10.666667-10.666667v-128c0-17.066667-14.933333-32-32-32s-32 14.933333-32 32v128c0 40.533333 34.133333 74.666667 74.666667 74.666667h682.666666c40.533333 0 74.666667-34.133333 74.666667-74.666667v-128c0-17.066667-14.933333-32-32-32z",
  fill: "currentColor",
  "p-id": "6064"
}, null, -1), ce = /* @__PURE__ */ P("path", {
  d: "M488.533333 727.466667c6.4 6.4 14.933333 8.533333 23.466667 8.533333s17.066667-2.133333 23.466667-8.533333l213.333333-213.333334c12.8-12.8 12.8-32 0-44.8-12.8-12.8-32-12.8-44.8 0l-157.866667 157.866667V170.666667c0-17.066667-14.933333-32-32-32s-34.133333 14.933333-34.133333 32v456.533333L322.133333 469.333333c-12.8-12.8-32-12.8-44.8 0-12.8 12.8-12.8 32 0 44.8l211.2 213.333334z",
  fill: "currentColor",
  "p-id": "6065"
}, null, -1), re = [
  ae,
  ce
];
function ie(a, c) {
  return oe(), se("svg", le, [...re]);
}
const de = { name: "defaults-download", render: ie }, { createElementVNode: j, openBlock: pe, createElementBlock: ue } = __Context.vue, me = {
  fill: "currentColor",
  t: "1708825630787",
  class: "icon",
  viewBox: "0 0 1024 1024",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg",
  "p-id": "5088",
  width: "200",
  height: "200"
}, _e = /* @__PURE__ */ j("path", {
  d: "M512 170.666667C171.733333 170.666667 0 512 0 512s171.733333 341.333333 512 341.333333 512-341.333333 512-341.333333S853.333333 170.666667 512 170.666667z m0 597.333333C292.693333 768 151.893333 591.786667 99.413333 512 151.893333 432.213333 292.693333 256 512 256s360.106667 176.213333 412.586667 256C872.106667 591.786667 731.306667 768 512 768z",
  fill: "currentColor",
  "p-id": "5089"
}, null, -1), ve = /* @__PURE__ */ j("path", {
  d: "M512 284.373333A227.626667 227.626667 0 1 0 739.626667 512 227.626667 227.626667 0 0 0 512 284.373333z m0 369.92A142.293333 142.293333 0 1 1 654.293333 512 142.293333 142.293333 0 0 1 512 654.293333z",
  fill: "currentColor",
  "p-id": "5090"
}, null, -1), he = [
  _e,
  ve
];
function fe(a, c) {
  return pe(), ue("svg", me, [...he]);
}
const ge = { name: "defaults-look", render: fe }, { createElementVNode: we, openBlock: Ce, createElementBlock: xe } = __Context.vue, ke = {
  fill: "currentColor",
  width: "19",
  height: "9",
  viewBox: "0 0 19 9",
  xmlns: "http://www.w3.org/2000/svg",
  style: { transform: "scale(-1, 1)" }
}, $e = /* @__PURE__ */ we("path", {
  d: "M2 1C2 0.447715 1.55228 0 1 0C0.447715 0 0 0.447715 0 1H2ZM1 8H0V9H1V8ZM8 9C8.55228 9 9 8.55229 9 8C9 7.44771 8.55228 7 8 7V9ZM16.5963 7.42809C16.8327 7.92721 17.429 8.14016 17.9281 7.90374C18.4272 7.66731 18.6402 7.07103 18.4037 6.57191L16.5963 7.42809ZM16.9468 5.83205L17.8505 5.40396L16.9468 5.83205ZM0 1V8H2V1H0ZM1 9H8V7H1V9ZM1.66896 8.74329L6.66896 4.24329L5.33104 2.75671L0.331035 7.25671L1.66896 8.74329ZM16.043 6.26014L16.5963 7.42809L18.4037 6.57191L17.8505 5.40396L16.043 6.26014ZM6.65079 4.25926C9.67554 1.66661 14.3376 2.65979 16.043 6.26014L17.8505 5.40396C15.5805 0.61182 9.37523 -0.710131 5.34921 2.74074L6.65079 4.25926Z",
  fill: "currentColor"
}, null, -1), ye = [
  $e
];
function Ee(a, c) {
  return Ce(), xe("svg", ke, [...ye]);
}
const Se = { name: "defaults-right", render: Ee }, { createElementVNode: Le, openBlock: be, createElementBlock: Be } = __Context.vue, Me = {
  fill: "currentColor",
  width: "19",
  height: "9",
  viewBox: "0 0 19 9",
  xmlns: "http://www.w3.org/2000/svg"
}, ze = /* @__PURE__ */ Le("path", {
  d: "M2 1C2 0.447715 1.55228 0 1 0C0.447715 0 0 0.447715 0 1H2ZM1 8H0V9H1V8ZM8 9C8.55228 9 9 8.55229 9 8C9 7.44771 8.55228 7 8 7V9ZM16.5963 7.42809C16.8327 7.92721 17.429 8.14016 17.9281 7.90374C18.4272 7.66731 18.6402 7.07103 18.4037 6.57191L16.5963 7.42809ZM16.9468 5.83205L17.8505 5.40396L16.9468 5.83205ZM0 1V8H2V1H0ZM1 9H8V7H1V9ZM1.66896 8.74329L6.66896 4.24329L5.33104 2.75671L0.331035 7.25671L1.66896 8.74329ZM16.043 6.26014L16.5963 7.42809L18.4037 6.57191L17.8505 5.40396L16.043 6.26014ZM6.65079 4.25926C9.67554 1.66661 14.3376 2.65979 16.043 6.26014L17.8505 5.40396C15.5805 0.61182 9.37523 -0.710131 5.34921 2.74074L6.65079 4.25926Z",
  fill: "currentColor"
}, null, -1), Ve = [
  ze
];
function Re(a, c) {
  return be(), Be("svg", Me, [...Ve]);
}
const Ne = { name: "defaults-left", render: Re }, { createElementVNode: He, openBlock: Ze, createElementBlock: Fe } = __Context.vue, Te = {
  width: "1.5rem",
  height: "1.5rem",
  fill: "currentColor",
  xmlns: "http://www.w3.org/2000/svg",
  viewBox: "0 0 24 24",
  "stroke-width": "1.5",
  stroke: "currentColor",
  "aria-hidden": "true"
}, qe = /* @__PURE__ */ He("path", {
  "stroke-linecap": "round",
  "stroke-linejoin": "round",
  d: "M3.75 3.75v4.5m0-4.5h4.5m-4.5 0L9 9M3.75 20.25v-4.5m0 4.5h4.5m-4.5 0L9 15M20.25 3.75h-4.5m4.5 0v4.5m0-4.5L15 9m5.25 11.25h-4.5m4.5 0v-4.5m0 4.5L15 15"
}, null, -1), De = [
  qe
];
function Ue(a, c) {
  return Ze(), Fe("svg", Te, [...De]);
}
const We = { name: "defaults-full", render: Ue }, { createElementVNode: Ie, openBlock: Xe, createElementBlock: Ye } = __Context.vue, Ae = {
  fill: "currentColor",
  t: "1708828335213",
  class: "icon",
  viewBox: "0 0 1098 1024",
  version: "1.1",
  xmlns: "http://www.w3.org/2000/svg",
  "p-id": "4230",
  width: "200",
  height: "200"
}, Pe = /* @__PURE__ */ Ie("path", {
  d: "M365.717333 329.152q0 45.717333-32 77.717333t-77.717333 32-77.717333-32-32-77.717333 32-77.717333 77.717333-32 77.717333 32 32 77.717333zM950.848 548.565333l0 256-804.565333 0 0-109.717333 182.848-182.848 91.434667 91.434667 292.565333-292.565333zM1005.717333 146.282667l-914.282667 0q-7.424 0-12.864 5.418667t-5.418667 12.864l0 694.848q0 7.424 5.418667 12.864t12.864 5.418667l914.282667 0q7.424 0 12.864-5.418667t5.418667-12.864l0-694.848q0-7.424-5.418667-12.864t-12.864-5.418667zM1097.152 164.565333l0 694.848q0 37.717333-26.858667 64.576t-64.576 26.858667l-914.282667 0q-37.717333 0-64.576-26.858667t-26.858667-64.576l0-694.848q0-37.717333 26.858667-64.576t64.576-26.858667l914.282667 0q37.717333 0 64.576 26.858667t26.858667 64.576z",
  fill: "#222222",
  "p-id": "4231"
}, null, -1), je = [
  Pe
];
function Ge(a, c) {
  return Xe(), Ye("svg", Ae, [...je]);
}
const Oe = { name: "defaults-image", render: Ge }, { defineComponent: Je } = __Context.vue, { renderSlot: Ke, normalizeStyle: Qe, createElementVNode: et, openBlock: tt, createElementBlock: nt } = __Context.vue, { reactive: ot, computed: st, ref: X, onMounted: lt } = __Context.vue, at = /* @__PURE__ */ Je({
  __name: "CanvasContainer",
  props: {
    imageSize: {}
  },
  setup(a, { expose: c }) {
    const r = a, _ = X(), g = X(), s = ot({ x: 0, y: 0, scale: 1 }), S = st(() => `transform-origin: 0 0; transform: translate(${s.x}px, ${s.y}px) scale(${s.scale})`), y = (t) => {
      t.preventDefault();
      let n = t.deltaY < 0 ? 1.1 : 0.9;
      const u = s.scale * n;
      u < 0.5 ? n = 0.5 / s.scale : u > 3 && (n = 3 / s.scale), s.scale *= n;
      const v = g.value.getBoundingClientRect(), h = t.clientX - v.left, L = t.clientY - v.top;
      s.x -= h * (n - 1), s.y -= L * (n - 1);
    };
    let C = !1;
    return lt(() => {
      if (!g.value)
        return;
      window.addEventListener("keydown", function(u) {
        u.code === "Space" && !C && (C = !0, g.value.style.cursor = "grabbing", document.addEventListener("mousemove", t), document.addEventListener("mouseup", n), document.addEventListener("keyup", n));
      });
      function t(u) {
        C && (s.x += u.movementX, s.y += u.movementY);
      }
      function n() {
        C && (C = !1, g.value.style.cursor = "grab", document.removeEventListener("mousemove", t), document.removeEventListener("mouseup", n), document.removeEventListener("keyup", n));
      }
    }), c({ resetScale: () => {
      if (s.scale = 1, s.x = 0, s.y = 0, !g.value)
        return;
      const [t, n] = r.imageSize, { width: u, height: v } = _.value.getBoundingClientRect(), h = u / t, L = v / n, b = Math.min(h, L) - 0.1;
      s.scale = b;
      const B = t * b, H = n * b;
      s.x = (t - B) / 2, s.y = (n - H) / 2;
    } }), (t, n) => (tt(), nt("div", {
      ref_key: "elRef",
      ref: _,
      class: "wh-full relative center",
      onWheel: y
    }, [
      et("div", {
        ref_key: "moveRef",
        ref: g,
        style: Qe(S.value)
      }, [
        Ke(t.$slots, "default")
      ], 4)
    ], 544));
  }
}), { defineComponent: ct } = __Context.vue, { createElementVNode: Y, vShow: rt, normalizeStyle: it, withDirectives: dt, Fragment: pt, openBlock: ut, createElementBlock: mt } = __Context.vue, { ref: D, reactive: _t, computed: vt } = __Context.vue, ht = /* @__PURE__ */ ct({
  __name: "CanvasLama",
  props: {
    src: {},
    size: {}
  },
  emits: ["recognize"],
  setup(a, { expose: c, emit: r }) {
    const _ = a, g = r, s = D(), S = D(!1), y = D(!1), C = _t({ x: 0, y: 0 }), N = vt(() => `transform: translate(${C.x}px, ${C.y}px) `);
    let t, n, u = null;
    const v = document.createElement("canvas"), h = v.getContext("2d");
    v.style.display = "none", document.body.appendChild(v);
    const L = (l, d = "pic.jpg") => new Promise((x, k) => {
      const m = new XMLHttpRequest();
      m.open("GET", l), m.responseType = "blob", m.onload = function() {
        if (m.status === 200) {
          const p = m.response, i = new File([p], d, { type: "image/webp" });
          x(i);
        } else
          k(new Error("Failed to load blob data"));
      }, m.onerror = function() {
        k(new Error("XHR request failed"));
      }, m.send();
    }), b = (l) => {
      let d = l.split(","), x = d[0].match(/:(.*?);/)[1], k = atob(d[1]), m = k.length, p = new Uint8Array(m);
      for (; m--; )
        p[m] = k.charCodeAt(m);
      return { u8arr: p, mime: x };
    }, B = (l) => {
      try {
        n.lineWidth = l, h.lineWidth = l;
      } catch {
      }
    }, H = () => {
      let l = !1, d = 0, x = 0;
      t.addEventListener("mousedown", (p) => {
        l = !0, [d, x] = [p.offsetX, p.offsetY];
      });
      const k = (p, i, o, e) => {
        p.globalCompositeOperation = S.value ? "destination-out" : "source-over", p.save(), p.beginPath(), p.moveTo(i, o), p.lineTo(e.offsetX, e.offsetY), p.stroke(), p.restore();
      };
      t.addEventListener("mousemove", (p) => {
        l && (k(n, d, x, p), k(h, d, x, p), [d, x] = [p.offsetX, p.offsetY]);
      });
      const m = () => {
        l && (u && clearTimeout(u), u = setTimeout(() => g("recognize"), 1e3), l = !1);
      };
      t.addEventListener("mouseup", m), t.addEventListener("mouseout", m);
    }, q = () => {
      t.addEventListener("mouseenter", () => y.value = !0), t.addEventListener("mouseleave", () => y.value = !1), t.addEventListener("mousedown", () => y.value = !1), t.addEventListener("mousemove", (l) => {
        const d = _.size / 2;
        C.x = l.offsetX - d, C.y = l.offsetY - d;
      });
    };
    return c({ initCanvas: (l, d) => {
      v.width = l, v.height = d, h.fillRect(0, 0, l, d), h.fillStyle = "#000000", h.lineCap = "round", h.lineJoin = "round", h.lineWidth = 20, h.fillStyle = "white", h.strokeStyle = "white", t = s.value, n = t.getContext("2d"), t.width = l, t.height = d, n.lineCap = "round", n.lineJoin = "round", n.lineWidth = 20, n.fillStyle = "rgba(64, 204, 51)", n.strokeStyle = "rgba(64, 204, 51)", H(), q();
    }, setLineWidth: B, getFiles: async () => {
      const l = await L(_.src), d = v.toDataURL("image/png"), x = b(d), k = new File([x.u8arr], "blob", { type: "image/png" });
      return [l, k];
    } }), (l, d) => (ut(), mt(pt, null, [
      Y("canvas", {
        ref_key: "canvasRef",
        ref: s,
        class: "custom-cursor1 opacity-50"
      }, null, 512),
      dt(Y("div", {
        class: "absolute left-0 top-0 z-50 rounded-full pointer-events-none",
        style: it(["background: rgba(64, 204, 51, 0.5)", `width: ${l.size}px; height: ${l.size}px`, N.value])
      }, null, 4), [
        [rt, y.value]
      ])
    ], 64));
  }
}), { defineComponent: ft } = __Context.vue, { normalizeStyle: F, createElementVNode: f, unref: V, vShow: U, withDirectives: T, createVNode: w, normalizeClass: R, withCtx: M, vModelText: gt, resolveComponent: wt, openBlock: A, createBlock: Ct, createCommentVNode: xt, createElementBlock: kt, pushScopeId: $t, popScopeId: yt } = __Context.vue, G = (a) => ($t("data-v-0b0d8462"), a = a(), yt(), a), Et = ["src"], St = ["src"], Lt = { class: "absolute inset-0 center" }, bt = ["for"], Bt = /* @__PURE__ */ G(() => /* @__PURE__ */ f("div", { class: "wh-full rounded center border-2 border-dashed hover:bg-gray-100" }, "点击这里或拖动图像文件", -1)), Mt = ["id"], zt = { class: "absolute left-1/2 -translate-x-1/2 bottom-5 rounded-md border p1 w-auto bg-white shadow" }, Vt = { class: "flex space-x-2 items-center px4" }, Rt = { class: "min-w30 h-full center" }, Nt = /* @__PURE__ */ G(() => /* @__PURE__ */ f("span", { class: "w-50" }, "笔刷", -1)), Ht = { class: "flex" }, { request: Zt } = __Context.utils, { ref: $, reactive: Ft, computed: Tt, nextTick: qt } = __Context.vue, { useRefHistory: Dt } = __Context.hooks, Ut = /* @__PURE__ */ ft({
  __name: "Main",
  setup(a) {
    const c = $("image_file_" + Math.random().toString().slice(3)), r = $(), _ = $(40), g = $(!1), s = $(!1), S = $(!1), y = $(), C = $(), N = $([0, 0]), t = $(), n = $(), u = $(), v = Ft({ width: "0px", height: "0px" }), { undo: h, redo: L, clear: b, canUndo: B, canRedo: H, history: q } = Dt(r, {}), W = Tt(() => {
      const i = q.value.map((o) => o.snapshot).filter((o) => o);
      return i[i.length - 1];
    }), I = (i) => new Promise((o) => {
      const e = new Image();
      e.onload = () => o({ width: e.width, height: e.height }), e.src = i;
    }), l = () => {
      u.value.setLineWidth(_.value);
    }, d = () => {
      I(r.value).then(({ width: i, height: o }) => {
        v.width = i + "px", v.height = o + "px", N.value = [i, o], u.value.initCanvas(i, o), u.value.setLineWidth(_.value), qt().then(() => n.value.resetScale());
      });
    }, x = (i) => {
      const o = Array.from(i.target.files);
      if (o.length === 0)
        return;
      const e = o[0];
      r.value = URL.createObjectURL(e), b(), d();
    }, k = () => {
      n.value.resetScale();
    }, m = async () => {
      const [i, o] = await u.value.getFiles(), e = new FormData();
      e.append("image", i), e.append("mask", o), e.append("ldmSteps", "25"), e.append("ldmSampler", "plms"), e.append("zitsWireframe", "true"), e.append("hdStrategy", "Crop"), e.append("hdStrategyCropMargin", "196"), e.append("hdStrategyCropTrigerSize", "800"), e.append("hdStrategyResizeLimit", "2048"), e.append("prompt", ""), e.append("negativePrompt", "0"), e.append("croperX", "-52"), e.append("croperY", "-52"), e.append("croperWidth", "512"), e.append("croperHeight", "512"), e.append("useCroper", "false"), e.append("sdMaskBlur", "5"), e.append("sdStrength", "0.75"), e.append("sdSteps", "50"), e.append("sdGuidanceScale", "7.5"), e.append("sdSampler", "uni_pc"), e.append("sdSeed", "-1"), e.append("sdMatchHistograms", "false"), e.append("sdScale", "1"), e.append("cv2Radius", "5"), e.append("cv2Flag", "INPAINT_NS"), e.append("paintByExampleSteps", "50"), e.append("paintByExampleGuidanceScale", "7.5"), e.append("paintByExampleSeed", "-1"), e.append("paintByExampleMaskBlur", "5"), e.append("paintByExampleMatchHistograms", "false"), e.append("p2pSteps", "50"), e.append("p2pImageGuidanceScale", "1.5"), e.append("p2pGuidanceScale", "7.5"), e.append("controlnet_conditioning_scale", "0.4"), e.append("controlnet_method", "control_v11p_sd15_canny"), g.value = !0, Zt("http://lama.fyshark.com/inpaint", {
        method: "post",
        headers: { pragma: "no-cache", "cache-control": "no-cache" },
        data: e,
        responseType: "blob"
      }).then((E) => {
        r.value = URL.createObjectURL(E), d();
      }).finally(() => g.value = !1);
    }, p = () => {
      const i = document.createElement("a");
      i.href = r.value, i.download = Math.random().toString().slice(3) + ".jpg", document.body.appendChild(i), i.click(), document.body.removeChild(i);
    };
    return (i, o) => {
      const e = Oe, E = wt("i-icon-tip"), O = We, J = Ne, K = Se, Q = ge, ee = de;
      return A(), kt("div", {
        ref_key: "elRef",
        ref: y,
        class: "wh-full overflow-hidden relative"
      }, [
        w(at, {
          imageSize: N.value,
          ref_key: "containerRef",
          ref: n
        }, {
          default: M(() => [
            f("div", {
              ref_key: "boxRef",
              ref: C,
              class: R(["relative overflow-hidden", { twinkle: g.value }]),
              style: F(v)
            }, [
              f("img", {
                src: r.value,
                class: "absolute inset-0 -z-0",
                style: F(`clip-path: inset(0px ${s.value ? 100 : 0}% 0px 0px); transition: clip-path 300ms cubic-bezier(0.4, 0, 0.2, 1) 0s`),
                draggable: "false"
              }, null, 12, Et),
              f("img", {
                src: W.value,
                class: "absolute inset-0 -z-20",
                draggable: "false"
              }, null, 8, St),
              T(f("div", {
                class: "absolute top-0 w2 bg-yellow-500 h-full",
                style: F(`left: ${s.value ? 0 : 102}%;transition: all 300ms cubic-bezier(0.4, 0, 0.2, 1) 0s`)
              }, null, 4), [
                [U, V(B)]
              ]),
              w(ht, {
                src: r.value,
                size: _.value,
                ref_key: "canvasLamaRef",
                ref: u,
                class: "wh-full",
                onRecognize: m
              }, null, 8, ["src", "size"]),
              T(f("div", {
                class: "fixed left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2 z-50 rounded-full pointer-events-none",
                style: F(["background: rgba(64, 204, 51, 0.5)", `width: ${_.value}px; height: ${_.value}px`])
              }, null, 4), [
                [U, S.value]
              ])
            ], 6)
          ]),
          _: 1
        }, 8, ["imageSize"]),
        T(f("div", Lt, [
          f("label", {
            for: c.value,
            class: "w-4/5 md:w-[600px] h-[150px]"
          }, [
            Bt,
            f("input", {
              ref_key: "inputFileRef",
              ref: t,
              class: "hidden",
              id: c.value,
              type: "file",
              accept: "image/png, image/jpeg",
              onChange: x
            }, null, 40, Mt)
          ], 8, bt)
        ], 512), [
          [U, !r.value]
        ]),
        f("div", zt, [
          f("div", Vt, [
            f("div", Rt, [
              Nt,
              T(f("input", {
                class: "range flex-1",
                "onUpdate:modelValue": o[0] || (o[0] = (z) => _.value = z),
                onMousedown: o[1] || (o[1] = (z) => S.value = !0),
                onMouseup: o[2] || (o[2] = (z) => S.value = !1),
                onChange: l,
                type: "range",
                step: "2",
                min: "10",
                max: "200"
              }, null, 544), [
                [gt, _.value]
              ])
            ]),
            f("div", Ht, [
              r.value ? (A(), Ct(E, {
                key: 0,
                class: "center",
                onClick: o[3] || (o[3] = (z) => t.value.click())
              }, {
                default: M(() => [
                  w(e)
                ]),
                _: 1
              })) : xt("", !0),
              w(E, {
                class: R(["center", { "pointer-events-none": !r.value }]),
                onClick: k
              }, {
                default: M(() => [
                  w(O)
                ]),
                _: 1
              }, 8, ["class"]),
              w(E, {
                class: R(["center", { "pointer-events-none": !V(B) }]),
                onClick: V(h)
              }, {
                default: M(() => [
                  w(J)
                ]),
                _: 1
              }, 8, ["class", "onClick"]),
              w(E, {
                class: R(["center", { "pointer-events-none": !V(H) }]),
                onClick: V(L)
              }, {
                default: M(() => [
                  w(K)
                ]),
                _: 1
              }, 8, ["class", "onClick"]),
              w(E, {
                class: R(["center", { "pointer-events-none": !V(B) }]),
                onMousedown: o[4] || (o[4] = (z) => s.value = !0),
                onMouseup: o[5] || (o[5] = (z) => s.value = !1)
              }, {
                default: M(() => [
                  w(Q)
                ]),
                _: 1
              }, 8, ["class"]),
              w(E, {
                class: R(["center", { "pointer-events-none": !r.value }]),
                onClick: p
              }, {
                default: M(() => [
                  w(ee)
                ]),
                _: 1
              }, 8, ["class"])
            ])
          ])
        ])
      ], 512);
    };
  }
}), Wt = (a, c) => {
  const r = a.__vccOpts || a;
  for (const [_, g] of c)
    r[_] = g;
  return r;
}, It = /* @__PURE__ */ Wt(Ut, [["__scopeId", "data-v-0b0d8462"]]);
class Xt {
  constructor() {
    Z(this, "icon", "");
    Z(this, "name", "lama");
    Z(this, "description", "lama");
    Z(this, "isUninstallReload", !1);
  }
  install(c) {
    c.usePage({
      path: "/lama",
      name: "lama",
      meta: {
        title: "lama",
        content: "图片涂抹修复",
        icon: '<svg t="1708913507645" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="5106" width="200" height="200"><path d="M819.2 128H204.8c-84.48 0-153.6 69.12-153.6 153.6v460.8c0 84.48 69.12 153.6 153.6 153.6h614.4c84.48 0 153.6-69.12 153.6-153.6V281.6c0-84.48-69.12-153.6-153.6-153.6z m-537.6 199.68c30.72 0 56.32 25.6 56.32 56.32 0 30.72-25.6 56.32-56.32 56.32-30.72 0-56.32-25.6-56.32-56.32 0-30.72 25.6-56.32 56.32-56.32z m496.64 71.68c-30.72 125.44-140.8 204.8-253.44 204.8-53.76 0-97.28 10.24-130.56 28.16-30.72 17.92-51.2 43.52-61.44 87.04-7.68 28.16-33.28 43.52-61.44 38.4-28.16-7.68-43.52-33.28-38.4-61.44 15.36-71.68 56.32-122.88 112.64-153.6 51.2-30.72 115.2-40.96 179.2-40.96 66.56 0 135.68-48.64 156.16-128 5.12-28.16 33.28-46.08 61.44-38.4 28.16 5.12 43.52 33.28 35.84 64z" fill="#000000" p-id="5107"></path></svg>',
        cache: !0
      },
      component: It
    });
  }
  uninstall() {
  }
}
const At = new Xt();
export {
  At as default
};
